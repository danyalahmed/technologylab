---
# ============================================================================
# PREREQUISITES
# ============================================================================
# This playbook installs Python and required packages on all nodes.
# These packages are needed for Ansible Kubernetes modules.
#
# Installed packages:
#   - python3, python3-pip, python3-venv: Python runtime and tools
#   - python3-kubernetes: Kubernetes Python client
#   - python3-yaml: YAML parsing library
#   - ethtool: Network interface configuration tool
#   - nfs-common: NFS client utilities
#
# Prerequisites:
#   - SSH access to all nodes
#   - sudo privileges on all nodes
#
# Usage:
#   ansible-playbook -i hosts.ini playbooks/00-Prerequisites.yml
# ============================================================================

- name: Install Python Dependencies
  hosts: all
  become: true
  strategy: free
  tasks:
    - name: Update apt cache
      ansible.builtin.apt:
        update_cache: true
        cache_valid_time: 3600

    - name: Install Python and required packages
      ansible.builtin.apt:
        name:
          - python3
          - python3-pip
          - python3-venv
          - python3-kubernetes
          - python3-yaml
          - ethtool
          - nfs-common
        state: present
